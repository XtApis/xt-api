"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[60610],{38500:(e,t,n)=>{n.d(t,{A:()=>r});n(96540);var i=n(11750),o=n(10002),a=n(74848);function r({children:e,hidden:t,className:n}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,i.A)(o.A.tabItem,n),hidden:t,children:e})}},85192:(e,t,n)=>{n.d(t,{A:()=>m});var i=n(96540),o=n(11750),a=n(13370),r=n(11721),s=n(87209),l=n(99798),h=n(74848);function d({className:e,block:t,selectedValue:n,selectValue:i,tabValues:r}){const s=[],{blockElementScrollPositionUntilNextRender:d}=(0,a.a_)(),c=e=>{const t=e.currentTarget,o=s.indexOf(t),a=r[o].value;a!==n&&(d(t),i(a))},u=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=s.indexOf(e.currentTarget)+1;t=s[n]??s[0];break}case"ArrowLeft":{const n=s.indexOf(e.currentTarget)-1;t=s[n]??s[s.length-1];break}}t?.focus()};return(0,h.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},e),children:r.map((({value:e,label:t,attributes:i})=>(0,h.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{s.push(e)},onKeyDown:u,onClick:c,...i,className:(0,o.A)("tabs__item",l.A.tabItem,i?.className,{"tabs__item--active":n===e}),children:t??e},e)))})}function c({lazy:e,children:t,selectedValue:n}){const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=a.find((e=>e.props.value===n));return e?(0,i.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,h.jsx)("div",{className:"margin-top--md",children:a.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==n})))})}function u(e){const t=(0,r.u)(e);return(0,h.jsxs)("div",{className:(0,o.A)("tabs-container",l.A.tabList),children:[(0,h.jsx)(d,{...t,...e}),(0,h.jsx)(c,{...t,...e})]})}function m(e){const t=(0,s.A)();return(0,h.jsx)(u,{...e,children:(0,r.v)(e.children)},String(t))}},11721:(e,t,n)=>{n.d(t,{u:()=>m,v:()=>h});var i=n(96540),o=n(49519),a=n(25931),r=n(94831),s=n(33012),l=n(33008);function h(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:t,children:n}=e;return(0,i.useMemo)((()=>{const e=t??function(e){return h(e).map((({props:{value:e,label:t,attributes:n,default:i}})=>({value:e,label:t,attributes:n,default:i})))}(n);return function(e){const t=(0,s.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function c({value:e,tabValues:t}){return t.some((t=>t.value===e))}function u({queryString:e=!1,groupId:t}){const n=(0,o.W6)(),a=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,r.aZ)(a),(0,i.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(n.location.search);t.set(a,e),n.replace({...n.location,search:t.toString()})}),[a,n])]}function m(e){const{defaultValue:t,queryString:n=!1,groupId:o}=e,r=d(e),[s,h]=(0,i.useState)((()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!c({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:r}))),[m,g]=u({queryString:n,groupId:o}),[f,p]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,o]=(0,l.Dv)(t);return[n,(0,i.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:o}),v=(()=>{const e=m??f;return c({value:e,tabValues:r})?e:null})();(0,a.A)((()=>{v&&h(v)}),[v]);return{selectedValue:s,selectValue:(0,i.useCallback)((e=>{if(!c({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);h(e),g(e),p(e)}),[g,p,r]),tabValues:r}}},10002:(e,t,n)=>{n.d(t,{A:()=>i});const i={tabItem:"tabItem_pnkT"}},99798:(e,t,n)=>{n.d(t,{A:()=>i});const i={tabList:"tabList_Qoir",tabItem:"tabItem_AQgk"}},33544:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/architecture-5b7220912f5cfdff40a7728233abb902.png"},32973:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>d});var i=n(11330),o=n(74848),a=n(43023),r=(n(85192),n(38500),n(34028));const s={description:"How Docusaurus works to build your app"},l="Architecture",h={},d=[];function c(e){const t={a:"a",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"architecture",children:"Architecture"})}),"\n","\n",(0,o.jsx)(r.A,{children:(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Architecture overview",src:n(33544).A+"",width:"2228",height:"2007"})})}),"\n",(0,o.jsx)(t.p,{children:"This diagram shows how Docusaurus works to build your app. Plugins each collect their content and emit JSON data; themes provide layout components which receive the JSON data as route modules. The bundler bundles all the components and emits a server bundle and a client bundle."}),"\n",(0,o.jsx)(t.p,{children:"Although you (either plugin authors or site creators) are writing JavaScript all the time, bear in mind that the JS is actually run in different environments:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["All plugin lifecycle methods are run in Node. Therefore, until we support ES Modules in our codebase, plugin source code must be provided as ES modules that can be imported, or CommonJS that can be ",(0,o.jsx)(t.code,{children:"require"}),"'d."]}),"\n",(0,o.jsx)(t.li,{children:"The theme code is built with Webpack. They can be provided as ESM\u2014following React conventions."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["Plugin code and theme code never directly import each other: they only communicate through protocols (in our case, through JSON temp files and calls to ",(0,o.jsx)(t.code,{children:"addRoute"}),"). A useful mental model is to imagine that the plugins are not written in JavaScript, but in another language like Rust. The only way to interact with plugins for the user is through ",(0,o.jsx)(t.code,{children:"docusaurus.config.js"}),", which itself is run in Node (hence you can use ",(0,o.jsx)(t.code,{children:"require"})," and pass callbacks as plugin options)."]}),"\n",(0,o.jsxs)(t.p,{children:["During bundling, the config file itself is serialized and bundled, allowing the theme to access config options like ",(0,o.jsx)(t.code,{children:"themeConfig"})," or ",(0,o.jsx)(t.code,{children:"baseUrl"})," through ",(0,o.jsx)(t.a,{href:"/docs/docusaurus-core#useDocusaurusContext",children:(0,o.jsx)(t.code,{children:"useDocusaurusContext()"})}),". However, the ",(0,o.jsx)(t.code,{children:"siteConfig"})," object only contains ",(0,o.jsx)(t.strong,{children:"serializable values"})," (values that are preserved after ",(0,o.jsx)(t.code,{children:"JSON.stringify()"}),"). Functions, regexes, etc. would be lost on the client side. The ",(0,o.jsx)(t.code,{children:"themeConfig"})," is designed to be entirely serializable."]})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},43023:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var i=n(96540);const o={},a=i.createContext(o);function r(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(a.Provider,{value:t},e.children)}},34028:(e,t,n)=>{n.d(t,{A:()=>y});var i=n(96540),o=n(40961);const a=(e,t)=>e===t?.tagName?.toUpperCase?.(),r=e=>a("DIV",e)||a("SPAN",e),s=e=>a("IMG",e),l=e=>e.complete&&0!==e.naturalHeight,h=e=>a("SVG",e),d=({height:e,offset:t,width:n})=>Math.min((window.innerWidth-2*t)/n,(window.innerHeight-2*t)/e),c=({containerHeight:e,containerWidth:t,hasScalableSrc:n,offset:i,targetHeight:o,targetWidth:a})=>e&&t?!n&&o&&a?(({containerHeight:e,containerWidth:t,offset:n,targetHeight:i,targetWidth:o})=>{const a=d({height:i,offset:n,width:o}),r=o>i?o/t:i/e;return a>1?r:a*r})({containerHeight:e,containerWidth:t,offset:i,targetHeight:o,targetWidth:a}):d({height:e,offset:i,width:t}):1,u=/url(?:\(['"]?)(.*?)(?:['"]?\))/,m=e=>{if(e){if(s(e))return e.currentSrc;if(r(e)){const t=window.getComputedStyle(e).backgroundImage;if(t)return u.exec(t)?.[1]}}},g=({position:e,relativeNum:t})=>{const n=parseFloat(e);return e.endsWith("%")?t*n/100:n},f=/\.svg$/i,p=({hasZoomImg:e,imgSrc:t,isSvg:n,isZoomed:i,loadedImgEl:o,offset:a,shouldRefresh:s,targetEl:l})=>{const h=n||"data:image/svg+xml"===t?.slice?.(0,18)||e||!(!t||!f.test(t)),d=l.getBoundingClientRect(),u=window.getComputedStyle(l),m=null!=o&&r(l),p=null!=o&&!m,v=(({containerHeight:e,containerLeft:t,containerTop:n,containerWidth:i,hasScalableSrc:o,offset:a,targetHeight:r,targetWidth:s})=>{const l=c({containerHeight:e,containerWidth:i,hasScalableSrc:o,offset:a,targetHeight:r,targetWidth:s});return{top:n,left:t,width:i*l,height:e*l,transform:`translate(0,0) scale(${1/l})`}})({containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:h,offset:a,targetHeight:o?.naturalHeight||d.height,targetWidth:o?.naturalWidth||d.width}),b=p?(({containerHeight:e,containerLeft:t,containerTop:n,containerWidth:i,hasScalableSrc:o,objectFit:a,objectPosition:r,offset:s,targetHeight:l,targetWidth:h})=>{if("scale-down"===a&&(a=h<=i&&l<=e?"none":"contain"),"cover"===a||"contain"===a){const d=i/h,u=e/l,m="cover"===a?Math.max(d,u):Math.min(d,u),[f="50%",p="50%"]=r.split(" "),v=g({position:f,relativeNum:i-h*m}),b=g({position:p,relativeNum:e-l*m}),w=c({containerHeight:l*m,containerWidth:h*m,hasScalableSrc:o,offset:s,targetHeight:l,targetWidth:h});return{top:n+b,left:t+v,width:h*m*w,height:l*m*w,transform:`translate(0,0) scale(${1/w})`}}if("none"===a){const[a="50%",d="50%"]=r.split(" "),u=g({position:a,relativeNum:i-h}),m=g({position:d,relativeNum:e-l}),f=c({containerHeight:l,containerWidth:h,hasScalableSrc:o,offset:s,targetHeight:l,targetWidth:h});return{top:n+m,left:t+u,width:h*f,height:l*f,transform:`translate(0,0) scale(${1/f})`}}if("fill"===a){const t=i/h,n=e/l,a=Math.max(t,n),r=c({containerHeight:l*a,containerWidth:h*a,hasScalableSrc:o,offset:s,targetHeight:l,targetWidth:h});return{width:i*r,height:e*r,transform:`translate(0,0) scale(${1/r})`}}return{}})({containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:h,objectFit:u.objectFit,objectPosition:u.objectPosition,offset:a,targetHeight:o?.naturalHeight||d.height,targetWidth:o?.naturalWidth||d.width}):void 0,w=m?(({backgroundPosition:e,backgroundSize:t,containerHeight:n,containerLeft:i,containerTop:o,containerWidth:a,hasScalableSrc:r,offset:s,targetHeight:l,targetWidth:h})=>{if("cover"===t||"contain"===t){const d=a/h,u=n/l,m="cover"===t?Math.max(d,u):Math.min(d,u),[f="50%",p="50%"]=e.split(" "),v=g({position:f,relativeNum:a-h*m}),b=g({position:p,relativeNum:n-l*m}),w=c({containerHeight:l*m,containerWidth:h*m,hasScalableSrc:r,offset:s,targetHeight:l,targetWidth:h});return{top:o+b,left:i+v,width:h*m*w,height:l*m*w,transform:`translate(0,0) scale(${1/w})`}}if("auto"===t){const[t="50%",d="50%"]=e.split(" "),u=g({position:t,relativeNum:a-h}),m=g({position:d,relativeNum:n-l}),f=c({containerHeight:l,containerWidth:h,hasScalableSrc:r,offset:s,targetHeight:l,targetWidth:h});return{top:o+m,left:i+u,width:h*f,height:l*f,transform:`translate(0,0) scale(${1/f})`}}{const[d="50%",u="50%"]=t.split(" "),m=g({position:d,relativeNum:a})/h,f=g({position:u,relativeNum:n})/l,p=Math.min(m,f),[v="50%",b="50%"]=e.split(" "),w=g({position:v,relativeNum:a-h*p}),E=g({position:b,relativeNum:n-l*p}),S=c({containerHeight:l*p,containerWidth:h*p,hasScalableSrc:r,offset:s,targetHeight:l,targetWidth:h});return{top:o+E,left:i+w,width:h*p*S,height:l*p*S,transform:`translate(0,0) scale(${1/S})`}}})({backgroundPosition:u.backgroundPosition,backgroundSize:u.backgroundSize,containerHeight:d.height,containerLeft:d.left,containerTop:d.top,containerWidth:d.width,hasScalableSrc:h,offset:a,targetHeight:o?.naturalHeight||d.height,targetWidth:o?.naturalWidth||d.width}):void 0,E=Object.assign({},v,b,w);if(i){const e=window.innerWidth/2,t=window.innerHeight/2,n=e-(parseFloat(String(E.left||0))+parseFloat(String(E.width||0))/2),i=t-(parseFloat(String(E.top||0))+parseFloat(String(E.height||0))/2);s&&(E.transitionDuration="0.01ms"),E.transform=`translate(${n}px,${i}px) scale(1)`}return E},v=e=>{if(!e)return{};if(h(e)){const t=e.parentElement,n=e.getBoundingClientRect();if(t){const e=t.getBoundingClientRect();return{height:n.height,left:e.left-n.left,top:e.top-n.top,width:n.width}}return{height:n.height,left:n.left,width:n.width,top:n.top}}return{height:e.offsetHeight,left:e.offsetLeft,width:e.offsetWidth,top:e.offsetTop}},b=["img","svg",'[role="img"]',"[data-zoom]"].map((e=>`${e}:not([aria-hidden="true"])`)).join(","),w={overflow:"",width:""};function E(e){return i.createElement(S,{...e})}class S extends i.Component{constructor(){super(...arguments),this.state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1,styleGhost:{}},this.refContent=i.createRef(),this.refDialog=i.createRef(),this.refModalContent=i.createRef(),this.refModalImg=i.createRef(),this.refWrap=i.createRef(),this.imgEl=null,this.isScaling=!1,this.prevBodyAttrs=w,this.styleModalImg={},this.handleModalStateChange=e=>{const{modalState:t}=this.state;"LOADING"!==e&&"LOADING"===t?(this.loadZoomImg(),window.addEventListener("resize",this.handleResize,{passive:!0}),window.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),window.addEventListener("touchmove",this.handleTouchMove,{passive:!0}),window.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("touchcancel",this.handleTouchCancel,{passive:!0}),document.addEventListener("keydown",this.handleKeyDown,!0)):"LOADED"!==e&&"LOADED"===t?window.addEventListener("wheel",this.handleWheel,{passive:!0}):"UNLOADING"!==e&&"UNLOADING"===t?(this.ensureImgTransitionEnd(),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),document.removeEventListener("keydown",this.handleKeyDown,!0)):"UNLOADED"!==e&&"UNLOADED"===t&&(this.bodyScrollEnable(),window.removeEventListener("resize",this.handleResize),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleImgTransitionEnd),this.refDialog.current?.close?.())},this.getDialogContainer=()=>{let e=document.querySelector("[data-rmiz-portal]");return null==e&&(e=document.createElement("div"),e.setAttribute("data-rmiz-portal",""),document.body.appendChild(e)),e},this.setId=()=>{const e=()=>Math.random().toString(16).slice(-4);this.setState({id:e()+e()+e()})},this.setAndTrackImg=()=>{const e=this.refContent.current;e&&(this.imgEl=e.querySelector(b),this.imgEl?(this.contentNotFoundChangeObserver?.disconnect?.(),this.imgEl.addEventListener("load",this.handleImgLoad),this.imgEl.addEventListener("click",this.handleZoom),this.state.loadedImgEl||this.handleImgLoad(),this.imgElResizeObserver=new ResizeObserver((e=>{const t=e[0];t?.target&&(this.imgEl=t.target,this.setState({styleGhost:v(this.imgEl)}))})),this.imgElResizeObserver.observe(this.imgEl),this.contentChangeObserver||(this.contentChangeObserver=new MutationObserver((()=>{this.setState({styleGhost:v(this.imgEl)})})),this.contentChangeObserver.observe(e,{attributes:!0,childList:!0,subtree:!0}))):this.contentNotFoundChangeObserver||(this.contentNotFoundChangeObserver=new MutationObserver(this.setAndTrackImg),this.contentNotFoundChangeObserver.observe(e,{childList:!0,subtree:!0})))},this.handleIfZoomChanged=e=>{const{isZoomed:t}=this.props;!e&&t?this.zoom():e&&!t&&this.unzoom()},this.handleImgLoad=()=>{const e=m(this.imgEl);if(!e)return;const t=new Image;s(this.imgEl)&&(t.sizes=this.imgEl.sizes,t.srcset=this.imgEl.srcset),t.src=e;const n=()=>{this.setState({loadedImgEl:t,styleGhost:v(this.imgEl)})};t.decode().then(n).catch((()=>{l(t)?n():t.onload=n}))},this.handleZoom=()=>{this.hasImage()&&this.props.onZoomChange?.(!0)},this.handleUnzoom=()=>{this.props.onZoomChange?.(!1)},this.handleDialogCancel=e=>{e.preventDefault()},this.handleDialogClick=e=>{e.target!==this.refModalContent.current&&e.target!==this.refModalImg.current||this.handleUnzoom()},this.handleKeyDown=e=>{"Escape"!==e.key&&27!==e.keyCode||(e.preventDefault(),e.stopPropagation(),this.handleUnzoom())},this.handleWheel=e=>{e.ctrlKey||(e.stopPropagation(),queueMicrotask((()=>{this.handleUnzoom()})))},this.handleTouchStart=e=>{e.touches.length>1?this.isScaling=!0:1===e.changedTouches.length&&e.changedTouches[0]&&(this.touchYStart=e.changedTouches[0].screenY)},this.handleTouchMove=e=>{const t=window.visualViewport?.scale??1;if(this.props.canSwipeToUnzoom&&!this.isScaling&&t<=1&&null!=this.touchYStart&&e.changedTouches[0]){this.touchYEnd=e.changedTouches[0].screenY;const t=Math.max(this.touchYStart,this.touchYEnd),n=Math.min(this.touchYStart,this.touchYEnd);Math.abs(t-n)>this.props.swipeToUnzoomThreshold&&(this.touchYStart=void 0,this.touchYEnd=void 0,this.handleUnzoom())}},this.handleTouchEnd=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleTouchCancel=()=>{this.isScaling=!1,this.touchYStart=void 0,this.touchYEnd=void 0},this.handleResize=()=>{this.setState({shouldRefresh:!0})},this.hasImage=()=>this.imgEl&&(this.state.loadedImgEl||h(this.imgEl))&&"none"!==window.getComputedStyle(this.imgEl).display,this.zoom=()=>{this.bodyScrollDisable(),this.refDialog.current?.showModal?.(),this.refModalImg.current?.addEventListener?.("transitionend",this.handleImgTransitionEnd),this.setState({modalState:"LOADING"})},this.unzoom=()=>{this.setState({modalState:"UNLOADING"})},this.handleImgTransitionEnd=()=>{clearTimeout(this.timeoutTransitionEnd),"LOADING"===this.state.modalState?this.setState({modalState:"LOADED"}):"UNLOADING"===this.state.modalState&&this.setState({shouldRefresh:!1,modalState:"UNLOADED"})},this.ensureImgTransitionEnd=()=>{if(this.refModalImg.current){const e=window.getComputedStyle(this.refModalImg.current).transitionDuration,t=parseFloat(e);if(t){const n=t*(e.endsWith("ms")?1:1e3)+50;this.timeoutTransitionEnd=setTimeout(this.handleImgTransitionEnd,n)}}},this.bodyScrollDisable=()=>{this.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};const e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width=`${e}px`},this.bodyScrollEnable=()=>{document.body.style.width=this.prevBodyAttrs.width,document.body.style.overflow=this.prevBodyAttrs.overflow,this.prevBodyAttrs=w},this.loadZoomImg=()=>{const{props:{zoomImg:e}}=this,t=e?.src;if(t){const n=new Image;n.sizes=e?.sizes??"",n.srcset=e?.srcSet??"",n.src=t;const i=()=>{this.setState({isZoomImgLoaded:!0})};n.decode().then(i).catch((()=>{l(n)?i():n.onload=i}))}},this.UNSAFE_handleSvg=()=>{const{imgEl:e,refModalImg:t,styleModalImg:n}=this;if(h(e)){const i=e.cloneNode(!0);(e=>{const t="-zoom",n=["clip-path","fill","mask","marker-start","marker-mid","marker-end"],i=new Map;if(e.hasAttribute("id")){const n=e.id,o=n+t;i.set(n,o),e.id=o}e.querySelectorAll("[id]").forEach((e=>{const n=e.id,o=n+t;i.set(n,o),e.id=o})),i.forEach(((t,i)=>{const o=`url(#${i})`,a=`url(#${t})`,r=n.map((e=>`[${e}="${o}"]`)).join(", ");e.querySelectorAll(r).forEach((e=>{n.forEach((t=>{e.getAttribute(t)===o&&e.setAttribute(t,a)}))}))})),e.querySelectorAll("style").forEach((e=>{i.forEach(((t,n)=>{e.textContent&&(e.textContent=e.textContent.replaceAll(`#${n}`,`#${t}`))}))}))})(i),i.style.width=`${n.width||0}px`,i.style.height=`${n.height||0}px`,i.addEventListener("click",this.handleUnzoom),t.current?.firstChild?.remove?.(),t.current?.appendChild?.(i)}}}render(){const{handleDialogCancel:e,handleDialogClick:t,handleUnzoom:n,handleZoom:a,imgEl:l,props:{a11yNameButtonUnzoom:d,a11yNameButtonZoom:c,children:u,classDialog:g,IconUnzoom:f,IconZoom:v,isZoomed:b,wrapElement:w,ZoomContent:E,zoomImg:S,zoomMargin:y},refContent:L,refDialog:I,refModalContent:A,refModalImg:x,refWrap:D,state:{id:z,isZoomImgLoaded:C,loadedImgEl:T,modalState:N,shouldRefresh:k,styleGhost:M}}=this,W=`rmiz-modal-${z}`,j=`rmiz-modal-img-${z}`,O=r(l),H=s(l),U=h(l),R=(e=>{if(e)return s(e)?e.alt??void 0:e.getAttribute("aria-label")??void 0})(l),Z=m(l),$=H?l.sizes:void 0,V=H?l.srcset:void 0,F=!!S?.src,q=this.hasImage(),B=R?`${c}: ${R}`:c,P="LOADING"===N||"LOADED"===N,G=q?"found":"not-found",Y="UNLOADED"===N||"UNLOADING"===N?"hidden":"visible",_={visibility:"UNLOADED"===N?"visible":"hidden"};this.styleModalImg=q?p({hasZoomImg:F,imgSrc:Z,isSvg:U,isZoomed:b&&P,loadedImgEl:T,offset:y,shouldRefresh:k,targetEl:l}):{};let J=null;if(q){const e=H||O?i.createElement("img",{alt:R,sizes:$,src:Z,srcSet:V,...C&&"LOADED"===N?S:{},"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:j,ref:x,style:this.styleModalImg,width:this.styleModalImg.width||void 0}):U?i.createElement("div",{"data-rmiz-modal-img":!0,ref:x,style:this.styleModalImg}):null,t=i.createElement("button",{"aria-label":d,"data-rmiz-btn-unzoom":"",onClick:n,type:"button"},i.createElement(f,null));J=E?i.createElement(E,{buttonUnzoom:t,modalState:N,img:e,onUnzoom:n}):i.createElement(i.Fragment,null,e,t)}return i.createElement(w,{"aria-owns":W,"data-rmiz":"",ref:D},i.createElement(w,{"data-rmiz-content":G,ref:L,style:_},u),q&&i.createElement(w,{"data-rmiz-ghost":"",style:M},i.createElement("button",{"aria-label":B,"data-rmiz-btn-zoom":"",onClick:a,type:"button"},i.createElement(v,null))),q&&o.createPortal(i.createElement("dialog",{"aria-labelledby":j,"aria-modal":"true",className:g,"data-rmiz-modal":"",id:W,onClick:t,onClose:n,onCancel:e,ref:I,role:"dialog"},i.createElement("div",{"data-rmiz-modal-overlay":Y}),i.createElement("div",{"data-rmiz-modal-content":"",ref:A},J)),this.getDialogContainer()))}componentDidMount(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}componentWillUnmount(){"UNLOADED"!==this.state.modalState&&this.bodyScrollEnable(),this.contentChangeObserver?.disconnect?.(),this.contentNotFoundChangeObserver?.disconnect?.(),this.imgElResizeObserver?.disconnect?.(),this.imgEl?.removeEventListener?.("load",this.handleImgLoad),this.imgEl?.removeEventListener?.("click",this.handleZoom),this.refModalImg.current?.removeEventListener?.("transitionend",this.handleImgTransitionEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize),document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidUpdate(e,t){this.handleModalStateChange(t.modalState),this.UNSAFE_handleSvg(),this.handleIfZoomChanged(e.isZoomed)}}function y(e){const[t,n]=i.useState(!1);return i.createElement(E,{...e,isZoomed:t,onZoomChange:n})}S.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",canSwipeToUnzoom:!0,IconUnzoom:function(){return i.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))},IconZoom:function(){return i.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))},swipeToUnzoomThreshold:10,wrapElement:"div",zoomMargin:0}},11330:e=>{e.exports=JSON.parse('{"id":"advanced/architecture","title":"Architecture","description":"How Docusaurus works to build your app","source":"@site/docs/advanced/architecture.mdx","sourceDirName":"advanced","slug":"/advanced/architecture","permalink":"/docs/advanced/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/edit/main/website/docs/advanced/architecture.mdx","tags":[],"version":"current","lastUpdatedBy":"king.xu","lastUpdatedAt":1762747351000,"frontMatter":{"description":"How Docusaurus works to build your app"},"sidebar":"docs","previous":{"title":"Advanced Tutorials","permalink":"/docs/advanced/"},"next":{"title":"Plugins","permalink":"/docs/advanced/plugins"}}')}}]);