"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9476],{9028:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>d});var n=t(89046),r=t(74848),i=t(43023);const o={id:"General_WSS_information",title:"General WSS information",sidebar_label:"General WSS information",sidebar_position:1},a=void 0,l={},d=[{value:"Base Address",id:"base-address",level:3},{value:"Request Headers",id:"request-headers",level:3},{value:"Subscription Steps",id:"subscription-steps",level:3},{value:"Notes",id:"notes",level:3}];function c(e){const s={code:"code",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h3,{id:"base-address",children:"Base Address"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"wss://fstream.xt.com/ws/user"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"request-headers",children:"Request Headers"}),"\n",(0,r.jsx)(s.p,{children:"The request header of the compression extension protocol must be added:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-http",children:"Sec-Websocket-Extensions: permessage-deflate\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"subscription-steps",children:"Subscription Steps"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 1:"})," Call the interface ",(0,r.jsx)(s.code,{children:"/v1/user/listen-key"})," to obtain the ",(0,r.jsx)(s.strong,{children:"listenKey"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Step 2:"})," When subscribing to user-related WebSocket events, send:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "method": "SUBSCRIBE",\n  "params": ["order@{listenKey obtained in the previous step}"],\n  "id": "test1"\n}\n'})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["If you receive ",(0,r.jsx)(s.strong,{children:(0,r.jsx)(s.code,{children:"invalid_listen_key"})}),", it means the listenKey is expired or invalid. \ud83d\udc49 Re-request a new listenKey through the interface."]}),"\n",(0,r.jsxs)(s.li,{children:["User-related data will be pushed ",(0,r.jsx)(s.strong,{children:"after subscription is successful"}),"."]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},43023:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>a});var n=t(96540);const r={},i=n.createContext(r);function o(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:s},e.children)}},89046:e=>{e.exports=JSON.parse('{"id":"futures/UserWebsocket/General_WSS_information","title":"General WSS information","description":"Base Address","source":"@site/docs/futures/UserWebsocket/General WSS information.mdx","sourceDirName":"futures/UserWebsocket","slug":"/futures/UserWebsocket/General_WSS_information","permalink":"/docs/futures/UserWebsocket/General_WSS_information","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/edit/main/website/docs/futures/UserWebsocket/General WSS information.mdx","tags":[],"version":"current","lastUpdatedBy":"king.xu","lastUpdatedAt":1758870320000,"sidebarPosition":1,"frontMatter":{"id":"General_WSS_information","title":"General WSS information","sidebar_label":"General WSS information","sidebar_position":1},"sidebar":"futures","previous":{"title":"Collect Trading Pair","permalink":"/docs/futures/User/CollectTradingPair"},"next":{"title":"Request message format","permalink":"/docs/futures/UserWebsocket/RequestMessageFormat"}}')}}]);