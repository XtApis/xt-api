<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-advanced/ssg" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Static site generation (SSG) | XT API</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docusaurus.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docusaurus.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docusaurus.io/docs/advanced/ssg"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Static site generation (SSG) | XT API"><meta data-rh="true" name="description" content="Docusaurus statically renders your React code into HTML, allowing faster load speed and better SEO."><meta data-rh="true" property="og:description" content="Docusaurus statically renders your React code into HTML, allowing faster load speed and better SEO."><link data-rh="true" rel="icon" href="/img/docusaurus.ico"><link data-rh="true" rel="canonical" href="https://docusaurus.io/docs/advanced/ssg"><link data-rh="true" rel="alternate" href="https://docusaurus.io/docs/advanced/ssg" hreflang="en"><link data-rh="true" rel="alternate" href="https://docusaurus.io/docs/advanced/ssg" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://docusaurus.io/docs/advanced/ssg" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GTNEYZMA9V-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Advanced Guides","item":"https://docusaurus.io/docs/advanced/"},{"@type":"ListItem","position":2,"name":"Static site generation","item":"https://docusaurus.io/docs/advanced/ssg"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="XT API RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="XT API Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="XT API JSON Feed">


<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E5CR2Q1NRE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-E5CR2Q1NRE",{})</script>





<link rel="alternate" type="application/rss+xml" href="/changelog/rss.xml" title="Docusaurus changelog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/changelog/atom.xml" title="Docusaurus changelog Atom Feed">
<link rel="alternate" type="application/json" href="/changelog/feed.json" title="Docusaurus changelog JSON Feed">





<link rel="alternate" type="application/rss+xml" href="/tests/blog/rss.xml" title="Docusaurus Tests Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/tests/blog/atom.xml" title="Docusaurus Tests Blog Atom Feed">
<link rel="alternate" type="application/json" href="/tests/blog/feed.json" title="Docusaurus Tests Blog JSON Feed">





<link rel="stylesheet" href="/katex/katex.min.css">
<script src="/js/product-dropdown.js" async></script>
<script src="/js/product-dropdown-i18n.js" async></script>
<script src="/js/logo-i18n.js" async></script><link rel="stylesheet" href="/assets/css/styles.860cfb80.css">
<script src="/assets/js/runtime~main.6e78c2a0.js" defer="defer"></script>
<script src="/assets/js/main.eef030dc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/xtlogo.png?v=2"><div role="region" aria-label="Skip to main content"><a class="skipToContent_UHvc" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_uAgx"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/index_overview/overview"><div class="navbar__logo"><img src="/img/xtlogo.png?v=2" alt="" class="themedComponent_bJGS themedComponent--light_LEkC" height="36" width="85"><img src="/img/xtlogo.png?v=2" alt="" class="themedComponent_bJGS themedComponent--dark_jnGk" height="36" width="85"></div><b class="navbar__title text--truncate">XT API</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Product</a><ul class="dropdown__menu"><li class="">
                <div style="padding: 0; width: 100%; background: white; min-width:90vw; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);">
                  <div style="display: flex; min-height: 400px; max-height: 80vh; overflow-y: auto;">
                    <!-- å·¦ä¾§åˆ†ç±»å¯¼èˆª -->
                    <div style="width: 200px; background: #f9fafb; border-right: 1px solid #e5e7eb; padding: 0;">
                      <div style="padding: 20px 0;">
                        <div id="all-products-nav" style="padding: 12px 20px; background: #f3f4f6; cursor: pointer; font-weight: 600; font-size: 16px; color: #1f2937;" onclick='showCategory("AllProducts")' data-i18n="item.label.All Products">All Products</div>

                        <div style="padding: 12px 20px; cursor: pointer; transition: background-color 0.2s; color: #6b7280; font-size: 14px;" onmouseover='this.style.backgroundColor="#f3f4f6",this.style.color="#1f2937"' onmouseout='this.style.backgroundColor="transparent",this.style.color="#6b7280"' onclick='showCategory("Index")' data-category="Index" data-i18n="item.label.Index">Index</div>

                        <div style="padding: 12px 20px; cursor: pointer; transition: background-color 0.2s; color: #6b7280; font-size: 14px;" onmouseover='this.style.backgroundColor="#f3f4f6",this.style.color="#1f2937"' onmouseout='this.style.backgroundColor="transparent",this.style.color="#6b7280"' onclick='showCategory("spot")' data-category="spot" data-i18n="item.label.Spot Trading">Spot Trading</div>

                        <div style="padding: 12px 20px; cursor: pointer; transition: background-color 0.2s; color: #6b7280; font-size: 14px;" onmouseover='this.style.backgroundColor="#f3f4f6",this.style.color="#1f2937"' onmouseout='this.style.backgroundColor="transparent",this.style.color="#6b7280"' onclick='showCategory("futures")' data-category="futures" data-i18n="item.label.Futures Trading">Futures Trading</div>

                        <div style="padding: 12px 20px; cursor: pointer; transition: background-color 0.2s; color: #6b7280; font-size: 14px;" onmouseover='this.style.backgroundColor="#f3f4f6",this.style.color="#1f2937"' onmouseout='this.style.backgroundColor="transparent",this.style.color="#6b7280"' onclick='showCategory("marginSpot")' data-category="marginSpot" data-i18n="item.label.Margin Trading">Margin Trading</div>

                        <div style="padding: 12px 20px; cursor: pointer; transition: background-color 0.2s; color: #6b7280; font-size: 14px;" onmouseover='this.style.backgroundColor="#f3f4f6",this.style.color="#1f2937"' onmouseout='this.style.backgroundColor="transparent",this.style.color="#6b7280"' onclick='showCategory("copyTrading")' data-category="copyTrading" data-i18n="item.label.Copy Trading">Copy Trading</div>

                        <div style="padding: 12px 20px; cursor: pointer; transition: background-color 0.2s; color: #6b7280; font-size: 14px;" onmouseover='this.style.backgroundColor="#f3f4f6",this.style.color="#1f2937"' onmouseout='this.style.backgroundColor="transparent",this.style.color="#6b7280"' onclick='showCategory("futuresCopy")' data-category="futuresCopy" data-i18n="item.label.Futures Copy">Futures Copy</div>

                        <div style="padding: 12px 20px; cursor: pointer; transition: background-color 0.2s; color: #6b7280; font-size: 14px;" onmouseover='this.style.backgroundColor="#f3f4f6",this.style.color="#1f2937"' onmouseout='this.style.backgroundColor="transparent",this.style.color="#6b7280"' onclick='showCategory("tradingThirdParty")' data-category="tradingThirdParty" data-i18n="item.label.Trading Third Party">Trading Third Party</div>

                        <div style="padding: 12px 20px; cursor: pointer; transition: background-color 0.2s; color: #6b7280; font-size: 14px;" onmouseover='this.style.backgroundColor="#f3f4f6",this.style.color="#1f2937"' onmouseout='this.style.backgroundColor="transparent",this.style.color="#6b7280"' onclick='showCategory("userCenter")' data-category="userCenter" data-i18n="item.label.User Center">User Center</div>
                      </div>
                    </div>

                    <!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
                    <div style="flex: 1; padding: 32px; background: white;">
                      <div style="margin-bottom: 24px;">
                        <h2 id="categoryTitle" style="margin: 0 0 8px 0; font-size: 24px; font-weight: 600; color: #1f2937;" data-i18n="item.label.All Products">All Products</h2>
                        <p id="categoryDesc" style="margin: 0; color: #6b7280; font-size: 14px;" data-i18n="item.label.Comprehensive API solutions for all your trading needs">Comprehensive API solutions for all your trading needs</p>
                      </div>

                      <div id="productsGrid" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 24px;">
                        <!-- äº§å“é“¾æŽ¥ -->
                        <a id="index-content-link" href="/docs/index_overview/overview" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Index">Index</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Index APIs">Index APIs</div>
                        </a>



                        <a href="/docs/spot/Access Description/BasicInformationOfTheInterface" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Spot Trading">Spot Trading</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Spot Trading APIs">Spot Trading APIs</div>
                        </a>

                        <a href="/docs/futures/Access Description/ApiLibrary" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Futures Trading">Futures Trading</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Futures Trading APIs">Futures Trading APIs</div>
                        </a>

                        <a href="/docs/margin-spot/Access Description/BasicInformationOfTheInterface" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Margin Trading">Margin Trading</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Margin Trading APIs">Margin Trading APIs</div>
                        </a>

                        <a href="/docs/copy-trading/Access Description/BasicInformationOfTheInterface" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Copy Trading">Copy Trading</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Copy Trading API">Copy Trading API</div>
                        </a>

                        <a href="/docs/futures-copy/Access Description/BasicInformationOfTheInterface" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Futures Copy">Futures Copy</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Futures Copy API">Futures Copy API</div>
                        </a>

                        <a href="/docs/trading-third-party/Access Description/BasicInformationOfTheInterface" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Trading Third Party">Trading Third Party</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Trading Third Party API">Trading Third Party API</div>
                        </a>

                        <a href="/docs/user-center/Access Description/BasicInformationOfTheInterface" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.User Center">User Center</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.User Center API">User Center API</div>
                        </a>

                        <a href="/docs/spot/Balance/GetCurrencies" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Balance">Balance</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Balance APIs">Balance APIs</div>
                        </a>

                        <a href="/docs/spot/Deposit&Withdrawal/GetSupportedCurrencies" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Deposit&Withdrawal">Deposit&Withdrawal</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Deposit&Withdrawal APIs">Deposit&Withdrawal APIs</div>
                        </a>

                        <a href="/docs/spot/Market/GetServerTime" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Market">Market</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Market APIs">Market APIs</div>
                        </a>

                        <a href="/docs/spot/Order/PlaceOrder" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Order">Order</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Order APIs">Order APIs</div>
                        </a>

                        <a href="/docs/spot/Trade/QueryTrade" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Trade">Trade</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Trade APIs">Trade APIs</div>
                        </a>

                        <a href="/docs/spot/Transfer/InternalTransfer" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Transfer">Transfer</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Transfer APIs">Transfer APIs</div>
                        </a>

                        <a href="/docs/spot/WebSocket Private/RequestMessageFormat" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.WebSocket Private">WebSocket Private</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.WebSocket Private APIs">WebSocket Private APIs</div>
                        </a>

                        <a href="/docs/spot/WebSocket Public/subscribeParam" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.WebSocket Public">WebSocket Public</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.WebSocket Public APIs">WebSocket Public APIs</div>
                        </a>

                        <a href="/docs/futures/WEBSOCKET(V2)/General_WSS_information" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Futures WebSocket">Futures WebSocket</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Futures WebSocket APIs">Futures WebSocket APIs</div>
                        </a>

                        <a href="/docs/margin-spot/Balance/GetBalanceBySymbol" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Margin Balance">Margin Balance</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Margin Balance APIs">Margin Balance APIs</div>
                        </a>

                        <a href="/docs/copy-trading/Copy tradeing/GetCurrentLeaderOrder" style="text-decoration: none; color: inherit; transition: opacity 0.2s;" onmouseover='this.style.opacity="0.7"' onmouseout='this.style.opacity="1"'>
                          <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.Copy Account">Copy Account</div>
                          <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.Copy Account APIs">Copy Account APIs</div>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>

<!-- script moved to static file: /js/product-dropdown-i18n.js -->
<!--
  // äº§å“åˆ†ç±»æ•°æ®
  const categoryData = {
    'AllProducts': {
      title: 'All Products',
      titleZh: 'æ‰€æœ‰äº§å“',
      desc: 'Comprehensive API solutions for all your trading needs',
      descZh: 'ä¸ºæ‚¨çš„æ‰€æœ‰äº¤æ˜“éœ€æ±‚æä¾›å…¨é¢çš„ API è§£å†³æ–¹æ¡ˆ',
      products: [
        { title: 'Index', titleZh: 'æŒ‡æ•°', subtitle: 'Index APIs', subtitleZh: 'æŒ‡æ•° API', href: '/docs/index_overview/overview' },
        { title: 'Spot Trading', titleZh: 'çŽ°è´§äº¤æ˜“', subtitle: 'Spot Trading APIs', subtitleZh: 'çŽ°è´§äº¤æ˜“ API', href: '/docs/spot/Access Description/BasicInformationOfTheInterface' },
        { title: 'Futures Trading', titleZh: 'åˆçº¦äº¤æ˜“', subtitle: 'Futures Trading APIs', subtitleZh: 'åˆçº¦äº¤æ˜“ API', href: '/docs/futures/Access Description/BasicInformationOfTheInterface' },
        { title: 'Margin Trading', titleZh: 'æ æ†äº¤æ˜“', subtitle: 'Margin Trading APIs', subtitleZh: 'æ æ†äº¤æ˜“ API', href: '/docs/margin-spot/Access Description/BasicInformationOfTheInterface' },
        { title: 'Copy Trading', titleZh: 'è·Ÿå•äº¤æ˜“', subtitle: 'Copy Trading API', subtitleZh: 'è·Ÿå•äº¤æ˜“ API', href: '/docs/copy-trading/Access Description/BasicInformationOfTheInterface' },
        { title: 'Futures Copy', titleZh: 'åˆçº¦è·Ÿå•', subtitle: 'Futures Copy API', subtitleZh: 'åˆçº¦è·Ÿå• API', href: '/docs/futures-copy/Access Description/BasicInformationOfTheInterface' },
        { title: 'Trading Third Party', titleZh: 'ç¬¬ä¸‰æ–¹äº¤æ˜“', subtitle: 'Trading Third Party API', subtitleZh: 'ç¬¬ä¸‰æ–¹äº¤æ˜“ API', href: '/docs/trading-third-party/Access Description/BasicInformationOfTheInterface' },
        { title: 'User Center', titleZh: 'ç”¨æˆ·ä¸­å¿ƒ', subtitle: 'User Center API', subtitleZh: 'ç”¨æˆ·ä¸­å¿ƒ API', href: '/docs/user-center/Access Description/BasicInformationOfTheInterface' },
        { title: 'Balance', titleZh: 'ä½™é¢', subtitle: 'Balance APIs', subtitleZh: 'ä½™é¢ API', href: '/docs/spot/Balance/GetCurrencies' },
        { title: 'Deposit&Withdrawal', titleZh: 'å……æ', subtitle: 'Deposit&Withdrawal APIs', subtitleZh: 'å……æ API', href: '/docs/spot/Deposit&Withdrawal/GetSupportedCurrencies' },
        { title: 'Market', titleZh: 'å¸‚åœº', subtitle: 'Market APIs', subtitleZh: 'å¸‚åœº API', href: '/docs/spot/Market/GetServerTime' },
        { title: 'Order', titleZh: 'è®¢å•', subtitle: 'Order APIs', subtitleZh: 'è®¢å• API', href: '/docs/spot/Order/PlaceOrder' },
        { title: 'Trade', titleZh: 'äº¤æ˜“', subtitle: 'Trade APIs', subtitleZh: 'äº¤æ˜“ API', href: '/docs/spot/Trade/QueryTrade' },
        { title: 'Transfer', titleZh: 'è½¬è´¦', subtitle: 'Transfer APIs', subtitleZh: 'è½¬è´¦ API', href: '/docs/spot/Transfer/InternalTransfer' },
        { title: 'WebSocket Private', titleZh: 'WebSocket ç§æœ‰', subtitle: 'WebSocket Private APIs', subtitleZh: 'WebSocket ç§æœ‰ API', href: '/docs/spot/WebSocket Private/RequestMessageFormat' },
        { title: 'WebSocket Public', titleZh: 'WebSocket å…¬å…±', subtitle: 'WebSocket Public APIs', subtitleZh: 'WebSocket å…¬å…± API', href: '/docs/spot/WebSocket Public/subscribeParam' },
        { title: 'Futures WebSocket', titleZh: 'åˆçº¦ WebSocket', subtitle: 'Futures WebSocket APIs', subtitleZh: 'åˆçº¦ WebSocket API', href: '/docs/futures/WEBSOCKET(V2)/General_WSS_information' },
        { title: 'Margin Balance', titleZh: 'æ æ†ä½™é¢', subtitle: 'Margin Balance APIs', subtitleZh: 'æ æ†ä½™é¢ API', href: '/docs/margin-spot/Balance/GetBalanceBySymbol' },
        { title: 'Copy Account', titleZh: 'è·Ÿå•è´¦æˆ·', subtitle: 'Copy Account APIs', subtitleZh: 'è·Ÿå•è´¦æˆ· API', href: '/docs/copy-trading/Copy tradeing/GetCurrentLeaderOrder' }
      ]
    },
    'Index': {
      title: 'Index',
      titleZh: 'æŒ‡æ•°',
      desc: 'Index trading and market data APIs',
      descZh: 'æŒ‡æ•°äº¤æ˜“å’Œå¸‚åœºæ•°æ® API',
      products: [
        { title: 'Index', titleZh: 'æŒ‡æ•°', subtitle: 'Index APIs', subtitleZh: 'æŒ‡æ•° API', href: '/docs/index_overview/overview' },
     ]
    },
    'spot': {
      title: 'Spot Trading',
      titleZh: 'çŽ°è´§äº¤æ˜“',
      desc: 'Spot trading APIs and market data',
      descZh: 'çŽ°è´§äº¤æ˜“ API å’Œå¸‚åœºæ•°æ®',
      products: [
        { title: 'Spot Trading', titleZh: 'çŽ°è´§äº¤æ˜“', subtitle: 'Spot Trading APIs', subtitleZh: 'çŽ°è´§äº¤æ˜“ API', href: '/docs/spot/Access Description/BasicInformationOfTheInterface' },
        { title: 'Balance', titleZh: 'ä½™é¢', subtitle: 'Balance APIs', subtitleZh: 'ä½™é¢ API', href: '/docs/spot/Balance/GetCurrencies' },
        { title: 'Deposit&Withdrawal', titleZh: 'å……æ', subtitle: 'Deposit&Withdrawal APIs', subtitleZh: 'å……æ API', href: '/docs/spot/Deposit&Withdrawal/GetSupportedCurrencies' },
        { title: 'Market', titleZh: 'å¸‚åœº', subtitle: 'Market APIs', subtitleZh: 'å¸‚åœº API', href: '/docs/spot/Market/GetServerTime' },
        { title: 'Order', titleZh: 'è®¢å•', subtitle: 'Order APIs', subtitleZh: 'è®¢å• API', href: '/docs/spot/Order/PlaceOrder' },
        { title: 'Trade', titleZh: 'äº¤æ˜“', subtitle: 'Trade APIs', subtitleZh: 'äº¤æ˜“ API', href: '/docs/spot/Trade/QueryTrade' },
        { title: 'Transfer', titleZh: 'è½¬è´¦', subtitle: 'Transfer APIs', subtitleZh: 'è½¬è´¦ API', href: '/docs/spot/Transfer/InternalTransfer' },
        { title: 'WebSocket Private', titleZh: 'WebSocket ç§æœ‰', subtitle: 'WebSocket Private APIs', subtitleZh: 'WebSocket ç§æœ‰ API', href: '/docs/spot/WebSocket Private/RequestMessageFormat' },
        { title: 'WebSocket Public', titleZh: 'WebSocket å…¬å…±', subtitle: 'WebSocket Public APIs', subtitleZh: 'WebSocket å…¬å…± API', href: '/docs/spot/WebSocket Public/subscribeParam' }
      ]
    },
    'futures': {
      title: 'Futures Trading',
      titleZh: 'åˆçº¦äº¤æ˜“',
      desc: 'Futures trading APIs and derivatives',
      descZh: 'åˆçº¦äº¤æ˜“ API å’Œåˆçº¦äº¤æ˜“',
      products: [
        { title: 'Access Description', titleZh: 'è®¿é—®æè¿°', subtitle: 'Access Description APIs', subtitleZh: 'è®¿é—®æè¿° API', href: '/docs/futures/Access Description/BasicInformationOfTheInterface' },
        { title: 'Entrust', titleZh: 'å§”æ‰˜', subtitle: 'Entrust APIs', subtitleZh: 'å§”æ‰˜ API', href: '/docs/futures/Entrust/CreateTriggerOrders' },
        { title: 'Market Data', titleZh: 'å¸‚åœºæ•°æ®', subtitle: 'Market Data APIs', subtitleZh: 'å¸‚åœºæ•°æ® API', href: '/docs/futures/Market Data/get-client-ip' },
        { title: 'Order', titleZh: 'è®¢å•', subtitle: 'Order APIs', subtitleZh: 'è®¢å• API', href: '/docs/futures/Order/create-orders' },
        { title: 'Python Package', titleZh: 'Python åŒ…', subtitle: 'Python Package APIs', subtitleZh: 'Python åŒ… API', href: '/docs/futures/Python Package/PythonPackage' },
        { title: 'Quote Collection', titleZh: 'è¡Œæƒ…æ”¶é›†', subtitle: 'Quote Collection APIs', subtitleZh: 'è¡Œæƒ…æ”¶é›† API', href: '/docs/futures/Quote collection/get-futures-info' },
        { title: 'User', titleZh: 'ç”¨æˆ·', subtitle: 'User APIs', subtitleZh: 'ç”¨æˆ· API', href: '/docs/futures/User/GetAccountInfo' },
        { title: 'WebSocket V2', titleZh: 'WebSocket V2', subtitle: 'WebSocket V2 APIs', subtitleZh: 'WebSocket V2 API', href: '/docs/futures/WEBSOCKET(V2)/Request message format' }
      ]
    },
    'marginSpot': {
      title: 'Margin Trading',
      titleZh: 'æ æ†äº¤æ˜“',
      desc: 'Margin trading and leverage APIs',
      descZh: 'æ æ†äº¤æ˜“å’Œæ æ† API',
      products: [
        { title: 'Margin Trading', titleZh: 'æ æ†äº¤æ˜“', subtitle: 'Margin Trading APIs', subtitleZh: 'æ æ†äº¤æ˜“ API', href: '/docs/margin-spot/Access Description/BasicInformationOfTheInterface' },
        { title: 'Margin Balance', titleZh: 'æ æ†ä½™é¢', subtitle: 'Margin Balance APIs', subtitleZh: 'æ æ†ä½™é¢ API', href: '/docs/margin-spot/Balance/GetBalanceBySymbol' }
      ]
    },
    'copyTrading': {
      title: 'Copy Trading',
      titleZh: 'è·Ÿå•äº¤æ˜“',
      desc: 'Copy trading and social trading APIs',
      descZh: 'è·Ÿå•äº¤æ˜“å’Œç¤¾äº¤äº¤æ˜“ API',
      products: [
        { title: 'Copy Trading', titleZh: 'è·Ÿå•äº¤æ˜“', subtitle: 'Copy Trading API', subtitleZh: 'è·Ÿå•äº¤æ˜“ API', href: '/docs/copy-trading/Access Description/BasicInformationOfTheInterface' },
        { title: 'Copy Account', titleZh: 'è·Ÿå•è´¦æˆ·', subtitle: 'Copy Account APIs', subtitleZh: 'è·Ÿå•è´¦æˆ· API', href: '/docs/copy-trading/Copy tradeing/GetCurrentLeaderOrder' }
      ]
    },
    'futuresCopy': {
      title: 'Futures Copy',
      titleZh: 'åˆçº¦è·Ÿå•',
      desc: 'Futures copy trading APIs',
      descZh: 'åˆçº¦è·Ÿå•äº¤æ˜“ API',
      products: [
        { title: 'Futures Copy', titleZh: 'åˆçº¦è·Ÿå•', subtitle: 'Futures Copy API', subtitleZh: 'åˆçº¦è·Ÿå• API', href: '/docs/futures-copy/Access Description/BasicInformationOfTheInterface' }
      ]
    },
    'tradingThirdParty': {
      title: 'Trading Third Party',
      titleZh: 'ç¬¬ä¸‰æ–¹äº¤æ˜“',
      desc: 'Third party trading integration APIs',
      descZh: 'ç¬¬ä¸‰æ–¹äº¤æ˜“é›†æˆ API',
      products: [
        { title: 'Trading Third Party', titleZh: 'ç¬¬ä¸‰æ–¹äº¤æ˜“', subtitle: 'Trading Third Party API', subtitleZh: 'ç¬¬ä¸‰æ–¹äº¤æ˜“ API', href: '/docs/trading-third-party/Access Description/BasicInformationOfTheInterface' }
      ]
    },
    'userCenter': {
      title: 'User Center',
      titleZh: 'ç”¨æˆ·ä¸­å¿ƒ',
      desc: 'User management and account APIs',
      descZh: 'ç”¨æˆ·ç®¡ç†å’Œè´¦æˆ· API',
      products: [
        { title: 'User Center', titleZh: 'ç”¨æˆ·ä¸­å¿ƒ', subtitle: 'User Center API', subtitleZh: 'ç”¨æˆ·ä¸­å¿ƒ API', href: '/docs/user-center/Access Description/BasicInformationOfTheInterface' }
      ]
    }
  };

  // æ˜¾ç¤ºåˆ†ç±»å†…å®¹çš„å‡½æ•°
  function showCategory(categoryKey) {
    console.log('ðŸ”„ Showing category:', categoryKey);

    const category = categoryData[categoryKey];
    if (!category) {
      console.error('âŒ Category not found:', categoryKey);
      return;
    }

    const locale = document.documentElement.lang || 'en';
    const isZh = locale === 'zh-Hans';

    console.log('ðŸŒ Current locale:', locale, 'isZh:', isZh);

    // æ›´æ–°æ ‡é¢˜å’Œæè¿°
    const titleElement = document.getElementById('categoryTitle');
    const descElement = document.getElementById('categoryDesc');

    if (titleElement) {
      const titleText = isZh ? category.titleZh : category.title;
      titleElement.textContent = titleText;
      console.log('ðŸ“ Updated title to:', titleText);
    }

    if (descElement) {
      const descText = isZh ? category.descZh : category.desc;
      descElement.textContent = descText;
      console.log('ðŸ“ Updated description to:', descText);
    }

    // æ›´æ–°äº§å“ç½‘æ ¼
    const productsGrid = document.getElementById('productsGrid');
    if (productsGrid) {
      let html = '';
      category.products.forEach(product => {
        const title = isZh ? product.titleZh : product.title;
        const subtitle = isZh ? product.subtitleZh : product.subtitle;

        console.log('ï¿½ï¿½ Product:', product.title, '->', title, '|', product.subtitle, '->', subtitle);

        // è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ç”¨äºŽ data-i18n å±žæ€§
        const titleKey = product.title.replace(/&/g, '&amp;');
        const subtitleKey = product.subtitle.replace(/&/g, '&amp;');

        html += `
          <a href="${product.href}"
             style="text-decoration: none; color: inherit; transition: opacity 0.2s;"
             onmouseover="this.style.opacity='0.7';"
             onmouseout="this.style.opacity='1';">
            <div style="font-weight: 600; margin-bottom: 4px; font-size: 14px; color: #1f2937;" data-i18n="item.label.${titleKey}">${title}</div>
            <div style="font-size: 12px; color: #6b7280;" data-i18n="item.label.${subtitleKey}">${subtitle}</div>
          </a>
        `;
      });

      productsGrid.innerHTML = html;
      console.log('âœ… Updated products grid with', category.products.length, 'products');

      // ç«‹å³æ›´æ–°ç¿»è¯‘
      setTimeout(() => {
        updateDropdownTranslations();
      }, 50);
    }

    // æ›´æ–°å·¦ä¾§é€‰ä¸­çŠ¶æ€
    const allNavItems = document.querySelectorAll('[data-category]');
    allNavItems.forEach(item => {
      item.style.backgroundColor = 'transparent';
      item.style.color = '#6b7280';
    });

    const selectedItem = document.querySelector(`[data-category="${categoryKey}"]`);
    if (selectedItem) {
      selectedItem.style.backgroundColor = '#f3f4f6';
      selectedItem.style.color = '#1f2937';
    }

    console.log('âœ… Category updated successfully');
  }

  // åŠ¨æ€ç¿»è¯‘å‡½æ•°
  function updateDropdownTranslations() {
    const locale = document.documentElement.lang || 'en';
    console.log('ðŸ”„ Updating translations for locale:', locale);

    const translations = {
      'en': {
        'item.label.All Products': 'All Products',
        'item.label.Index': 'Index',
        'item.label.Spot Trading': 'Spot Trading',
        'item.label.Futures Trading': 'Futures Trading',
        'item.label.Margin Trading': 'Margin Trading',
        'item.label.Copy Trading': 'Copy Trading',
        'item.label.Futures Copy': 'Futures Copy',
        'item.label.Trading Third Party': 'Trading Third Party',
        'item.label.User Center': 'User Center',
        'item.label.Balance': 'Balance',
        'item.label.Deposit&Withdrawal': 'Deposit&Withdrawal',
        'item.label.Deposit&amp;Withdrawal': 'Deposit&Withdrawal',
        'item.label.Market': 'Market',
        'item.label.Order': 'Order',
        'item.label.Trade': 'Trade',
        'item.label.Transfer': 'Transfer',
        'item.label.WebSocket Private': 'WebSocket Private',
        'item.label.WebSocket Public': 'WebSocket Public',
        'item.label.Futures WebSocket': 'Futures WebSocket',
        'item.label.Access Description': 'Access Description',
        'item.label.Entrust': 'Entrust',
        'item.label.Market Data': 'Market Data',
        'item.label.Python Package': 'Python Package',
        'item.label.Quote Collection': 'Quote Collection',
        'item.label.User': 'User',
        'item.label.WebSocket V2': 'WebSocket V2',
        'item.label.Margin Balance': 'Margin Balance',
        'item.label.Copy Account': 'Copy Account',
        'item.label.Index APIs': 'Index APIs',
        'item.label.Spot Trading APIs': 'Spot Trading APIs',
        'item.label.Futures Trading APIs': 'Futures Trading APIs',
        'item.label.Margin Trading APIs': 'Margin Trading APIs',
        'item.label.Copy Trading API': 'Copy Trading API',
        'item.label.Futures Copy API': 'Futures Copy API',
        'item.label.Trading Third Party API': 'Trading Third Party API',
        'item.label.User Center API': 'User Center API',
        'item.label.Balance APIs': 'Balance APIs',
        'item.label.Deposit&Withdrawal APIs': 'Deposit&Withdrawal APIs',
        'item.label.Deposit&amp;Withdrawal APIs': 'Deposit&Withdrawal APIs',
        'item.label.Market APIs': 'Market APIs',
        'item.label.Order APIs': 'Order APIs',
        'item.label.Trade APIs': 'Trade APIs',
        'item.label.Transfer APIs': 'Transfer APIs',
        'item.label.WebSocket Private APIs': 'WebSocket Private APIs',
        'item.label.WebSocket Public APIs': 'WebSocket Public APIs',
        'item.label.Futures WebSocket APIs': 'Futures WebSocket APIs',
        'item.label.Access Description APIs': 'Access Description APIs',
        'item.label.Entrust APIs': 'Entrust APIs',
        'item.label.Market Data APIs': 'Market Data APIs',
        'item.label.Python Package APIs': 'Python Package APIs',
        'item.label.Quote Collection APIs': 'Quote Collection APIs',
        'item.label.User APIs': 'User APIs',
        'item.label.WebSocket V2 APIs': 'WebSocket V2 APIs',
        'item.label.Margin Balance APIs': 'Margin Balance APIs',
        'item.label.Copy Account APIs': 'Copy Account APIs',
        'item.label.Comprehensive API solutions for all your trading needs': 'Comprehensive API solutions for all your trading needs'
      },
      'zh-Hans': {
        'item.label.All Products': 'æ‰€æœ‰äº§å“',
        'item.label.Index': 'æŒ‡æ•°',
        'item.label.Spot Trading': 'çŽ°è´§äº¤æ˜“',
        'item.label.Futures Trading': 'åˆçº¦äº¤æ˜“',
        'item.label.Margin Trading': 'æ æ†äº¤æ˜“',
        'item.label.Copy Trading': 'è·Ÿå•äº¤æ˜“',
        'item.label.Futures Copy': 'åˆçº¦è·Ÿå•',
        'item.label.Trading Third Party': 'ç¬¬ä¸‰æ–¹äº¤æ˜“',
        'item.label.User Center': 'ç”¨æˆ·ä¸­å¿ƒ',
        'item.label.Balance': 'ä½™é¢',
        'item.label.Deposit&Withdrawal': 'å……æ',
        'item.label.Deposit&amp;Withdrawal': 'å……æ',
        'item.label.Market': 'å¸‚åœº',
        'item.label.Order': 'è®¢å•',
        'item.label.Trade': 'äº¤æ˜“',
        'item.label.Transfer': 'è½¬è´¦',
        'item.label.WebSocket Private': 'WebSocket ç§æœ‰',
        'item.label.WebSocket Public': 'WebSocket å…¬å…±',
        'item.label.Futures WebSocket': 'åˆçº¦ WebSocket',
        'item.label.Access Description': 'è®¿é—®æè¿°',
        'item.label.Entrust': 'å§”æ‰˜',
        'item.label.Market Data': 'å¸‚åœºæ•°æ®',
        'item.label.Python Package': 'Python åŒ…',
        'item.label.Quote Collection': 'è¡Œæƒ…æ”¶é›†',
        'item.label.User': 'ç”¨æˆ·',
        'item.label.WebSocket V2': 'WebSocket V2',
        'item.label.Margin Balance': 'æ æ†ä½™é¢',
        'item.label.Copy Account': 'è·Ÿå•è´¦æˆ·',
        'item.label.Index APIs': 'æŒ‡æ•° API',
        'item.label.Spot Trading APIs': 'çŽ°è´§äº¤æ˜“ API',
        'item.label.Futures Trading APIs': 'åˆçº¦äº¤æ˜“ API',
        'item.label.Margin Trading APIs': 'æ æ†äº¤æ˜“ API',
        'item.label.Copy Trading API': 'è·Ÿå•äº¤æ˜“ API',
        'item.label.Futures Copy API': 'åˆçº¦è·Ÿå• API',
        'item.label.Trading Third Party API': 'ç¬¬ä¸‰æ–¹äº¤æ˜“ API',
        'item.label.User Center API': 'ç”¨æˆ·ä¸­å¿ƒ API',
        'item.label.Balance APIs': 'ä½™é¢ API',
        'item.label.Deposit&Withdrawal APIs': 'å……æ API',
        'item.label.Deposit&amp;Withdrawal APIs': 'å……æ API',
        'item.label.Market APIs': 'å¸‚åœº API',
        'item.label.Order APIs': 'è®¢å• API',
        'item.label.Trade APIs': 'äº¤æ˜“ API',
        'item.label.Transfer APIs': 'è½¬è´¦ API',
        'item.label.WebSocket Private APIs': 'WebSocket ç§æœ‰ API',
        'item.label.WebSocket Public APIs': 'WebSocket å…¬å…± API',
        'item.label.Futures WebSocket APIs': 'åˆçº¦ WebSocket API',
        'item.label.Access Description APIs': 'è®¿é—®æè¿° API',
        'item.label.Entrust APIs': 'å§”æ‰˜ API',
        'item.label.Market Data APIs': 'å¸‚åœºæ•°æ® API',
        'item.label.Python Package APIs': 'Python åŒ… API',
        'item.label.Quote Collection APIs': 'è¡Œæƒ…æ”¶é›† API',
        'item.label.User APIs': 'ç”¨æˆ· API',
        'item.label.WebSocket V2 APIs': 'WebSocket V2 API',
        'item.label.Margin Balance APIs': 'æ æ†ä½™é¢ API',
        'item.label.Copy Account APIs': 'è·Ÿå•è´¦æˆ· API',
        'item.label.Comprehensive API solutions for all your trading needs': 'ä¸ºæ‚¨çš„æ‰€æœ‰äº¤æ˜“éœ€æ±‚æä¾›å…¨é¢çš„ API è§£å†³æ–¹æ¡ˆ'
      }
    };

    const currentTranslations = translations[locale] || translations['en'];

    // æŸ¥æ‰¾æ‰€æœ‰å¸¦æœ‰ data-i18n å±žæ€§çš„å…ƒç´ 
    const elements = document.querySelectorAll('[data-i18n]');
    console.log('ðŸ” Found elements to translate:', elements.length);

    let translatedCount = 0;
    elements.forEach(element => {
      const key = element.getAttribute('data-i18n');
      if (currentTranslations[key]) {
        const oldText = element.textContent;
        element.textContent = currentTranslations[key];
        if (oldText !== currentTranslations[key]) {
          translatedCount++;
          console.log('âœ… Translated:', key, '->', currentTranslations[key]);
        }
      }
    });
    console.log('ðŸ“Š Total translated elements:', translatedCount);
  }

  // ä½¿ç”¨ MutationObserver ç›‘å¬ DOM å˜åŒ–
  function setupDropdownObserver() {
    const observer = new MutationObserver(function(mutations) {
      let shouldUpdate = false;

      mutations.forEach(function(mutation) {
        // æ£€æŸ¥æ˜¯å¦æœ‰æ–°èŠ‚ç‚¹æ·»åŠ 
        if (mutation.type === 'childList') {
          mutation.addedNodes.forEach(function(node) {
            if (node.nodeType === 1) { // Element node
              // æ£€æŸ¥æ˜¯å¦åŒ…å«èœå•ç›¸å…³çš„å…ƒç´ 
              if (node.querySelector && (
                node.querySelector('[data-i18n]') ||
                node.id === 'all-products-nav' ||
                node.classList.contains('navbar__item--dropdown') ||
                node.querySelector('#productsGrid')
              )) {
                shouldUpdate = true;
              }
            }
          });
        }

        // æ£€æŸ¥å±žæ€§å˜åŒ–ï¼ˆå¦‚æ˜¾ç¤º/éšè—ï¼‰
        if (mutation.type === 'attributes') {
          const target = mutation.target;
          if (target.classList && (
            target.classList.contains('navbar__item--dropdown') ||
            target.classList.contains('navbar__item--show')
          )) {
            shouldUpdate = true;
          }
        }
      });

      if (shouldUpdate) {
        console.log('ðŸ”„ DOM changed, updating translations...');
        setTimeout(updateDropdownTranslations, 100);
      }
    });

    // å¼€å§‹è§‚å¯Ÿ
    observer.observe(document.body, {
      childList: true,
      subtree: true,
      attributes: true,
      attributeFilter: ['class', 'style']
    });

    console.log('ðŸ‘€ Dropdown observer setup complete');
  }

  // ç«‹å³æ‰§è¡Œä¸€æ¬¡ç¿»è¯‘
  updateDropdownTranslations();

  // é¡µé¢åŠ è½½å®ŒæˆåŽè®¾ç½®ç›‘å¬å™¨
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
      console.log('ðŸ“„ DOMContentLoaded fired');
      updateDropdownTranslations();
      setupDropdownObserver();
    });
  } else {
    console.log('âœ… DOM already loaded');
    updateDropdownTranslations();
    setupDropdownObserver();
  }

  // å»¶è¿Ÿæ‰§è¡Œï¼Œç¡®ä¿æ‰€æœ‰å…ƒç´ éƒ½å·²æ¸²æŸ“
  setTimeout(updateDropdownTranslations, 100);
  setTimeout(updateDropdownTranslations, 500);
  setTimeout(updateDropdownTranslations, 1000);

  // ç›‘å¬è¯­è¨€åˆ‡æ¢
  const langObserver = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.type === 'attributes' && mutation.attributeName === 'lang') {
        console.log('ðŸŒ Language changed to:', document.documentElement.lang);
        setTimeout(updateDropdownTranslations, 100);
      }
    });
  });
  langObserver.observe(document.documentElement, { attributes: true });

  // ç›‘å¬çª—å£ç„¦ç‚¹äº‹ä»¶ï¼ˆç”¨æˆ·åˆ‡æ¢æ ‡ç­¾é¡µå›žæ¥æ—¶ï¼‰
  window.addEventListener('focus', function() {
    console.log('ðŸ‘ï¸ Window focused, checking translations');
    setTimeout(updateDropdownTranslations, 100);
  });

  // ç›‘å¬é¼ æ ‡è¿›å…¥èœå•åŒºåŸŸ
  document.addEventListener('mouseover', function(event) {
    const dropdown = event.target.closest('.navbar__item--dropdown');
    if (dropdown) {
      console.log('ðŸ–±ï¸ Mouse over dropdown, updating translations');
      setTimeout(updateDropdownTranslations, 50);
    }
  });

-->

              </li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_dDCC"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_tqOs"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/advanced/ssg" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/docs/advanced/ssg" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">ç®€ä½“ä¸­æ–‡</a></li><li class=""><hr style="margin: 0.3rem 0;"></li><li><a href="https://github.com/facebook/docusaurus/issues/3526" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help Us Translate<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_Rdzz"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a href="https://github.com/XtApis/api" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_bT41 colorModeToggle_UolE"><button class="clean-btn toggleButton_x9TT toggleButtonDisabled_Dj8q" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_nCQi lightToggleIcon_dnYY"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_nCQi darkToggleIcon_OBbf"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_nCQi systemToggleIcon_IWwm"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_PEsc"><div class="docsWrapper_lLmf"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_PuQw" type="button"></button><div class="docRoot_kBZ6"><aside class="theme-doc-sidebar-container docSidebarContainer_S51O"><div class="sidebarViewport_K3q9"><div class="sidebar_vtcw sidebarWithHideableNavbar_tZ9s"><a tabindex="-1" class="sidebarLogo_UK0N" href="/docs/index_overview/overview"><img src="/img/xtlogo.png?v=2" alt="" class="themedComponent_bJGS themedComponent--light_LEkC" height="36" width="85"><img src="/img/xtlogo.png?v=2" alt="" class="themedComponent_bJGS themedComponent--dark_jnGk" height="36" width="85"><b>XT API</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_rWGR"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs"><span title="Introduction" class="linkLabel_ArQF">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_vxMM menu__link menu__link--sublist" href="/docs/category/getting-started"><span title="Getting Started" class="categoryLinkLabel_O4bj">Getting Started</span></a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation"><span title="Installation" class="linkLabel_ArQF">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuration"><span title="Configuration" class="linkLabel_ArQF">Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/playground"><span title="Playground" class="linkLabel_ArQF">Playground</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/typescript-support"><span title="TypeScript Support" class="linkLabel_ArQF">TypeScript Support</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_vxMM menu__link menu__link--sublist" href="/docs/category/guides"><span title="Guides" class="categoryLinkLabel_O4bj">Guides</span></a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_vxMM menu__link menu__link--sublist menu__link--active" href="/docs/advanced"><span title="Advanced Guides" class="categoryLinkLabel_O4bj">Advanced Guides</span></a><button aria-label="Collapse sidebar category &#x27;Advanced Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/architecture"><span title="Architecture" class="linkLabel_ArQF">Architecture</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/plugins"><span title="Plugins" class="linkLabel_ArQF">Plugins</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/routing"><span title="Routing" class="linkLabel_ArQF">Routing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/advanced/ssg"><span title="Static site generation" class="linkLabel_ArQF">Static site generation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/client"><span title="Client architecture" class="linkLabel_ArQF">Client architecture</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_vxMM menu__link menu__link--sublist" href="/docs/migration"><span title="Upgrading" class="categoryLinkLabel_O4bj">Upgrading</span></a><button aria-label="Expand sidebar category &#x27;Upgrading&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PUyN"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_DI0B"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_EfwR"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_n6xZ"><div class="docItemContainer_RhpI"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Wvrh" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_uaSn"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/advanced"><span>Advanced Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Static site generation</span></li></ul></nav><div class="tocCollapsible_BEWm theme-doc-toc-mobile tocMobile_NSfz"><button type="button" class="clean-btn tocCollapsibleButton_IbtT">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Static site generation (SSG)</h1></header>
<p>In <a href="/docs/advanced/architecture">architecture</a>, we mentioned that the theme is run in Webpack. But beware: that doesn&#x27;t mean it always has access to browser globals! The theme is built twice:</p>
<ul>
<li>During <strong>server-side rendering</strong>, the theme is compiled in a sandbox called <a href="https://reactjs.org/docs/react-dom-server.html" target="_blank" rel="noopener noreferrer">React DOM Server</a>. You can see this as a &quot;headless browser&quot;, where there is no <code>window</code> or <code>document</code>, only React. SSR produces static HTML pages.</li>
<li>During <strong>client-side rendering</strong>, the theme is compiled to JavaScript that gets eventually executed in the browser, so it has access to browser variables.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_o5H7 alert alert--info"><div class="admonitionHeading_FzoX"><span class="admonitionIcon_rXq6"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>SSR or SSG?</div><div class="admonitionContent_Knsx"><p><em>Server-side rendering</em> and <em>static site generation</em> can be different concepts, but we use them interchangeably.</p><p>Strictly speaking, Docusaurus is a static site generator, because there&#x27;s no server-side runtimeâ€”we statically render to HTML files that are deployed on a CDN, instead of dynamically pre-rendering on each request. This differs from the working model of <a href="https://nextjs.org/" target="_blank" rel="noopener noreferrer">Next.js</a>.</p></div></div>
<p>Therefore, while you probably know not to access Node globals like <code>process</code> (<a href="#node-env">or can we?</a>) or the <code>&#x27;fs&#x27;</code> module, you can&#x27;t freely access browser globals either.</p>
<div class="language-jsx codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-jsx codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#CF222E">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">default</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#8250DF">WhereAmI</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#CF222E">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#22863A">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token dom variable" style="color:#E36209">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">href</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#22863A">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>This looks like idiomatic React, but if you run <code>docusaurus build</code>, you will get an error:</p>
<div class="language-text codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-text codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">ReferenceError: window is not defined</span><br></span></code></pre></div></div>
<p>This is because during server-side rendering, the Docusaurus app isn&#x27;t actually run in browser, and it doesn&#x27;t know what <code>window</code> is.</p>
<details id="node-env" class="details_Nokh alert alert--info details_Cn_P" data-collapsed="true"><summary>What about <code>process.env.NODE_ENV</code>?</summary><div><div class="collapsibleContent_EoA1"><p>One exception to the &quot;no Node globals&quot; rule is <code>process.env.NODE_ENV</code>. In fact, you can use it in React, because Webpack injects this variable as a global:</p><div class="language-jsx codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-jsx codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#CF222E">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">default</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">function</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">expensiveComp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#CF222E">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#005CC5">NODE_ENV</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">===</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;development&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#CF222E">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">This component is not shown in development</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#CF222E">const</span><span class="token plain"> res </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">someExpensiveOperationThatLastsALongTime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#CF222E">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div><p>During Webpack build, the <code>process.env.NODE_ENV</code> will be replaced with the value, either <code>&#x27;development&#x27;</code> or <code>&#x27;production&#x27;</code>. You will then get different build results after dead code elimination:</p><div class="tabs-container tabList_Qoir"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_AQgk tabs__item--active">Development</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_AQgk">Production</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_pnkT"><div class="language-diff codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-diff codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">import React from &#x27;react&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default function expensiveComp() {</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> if (&#x27;development&#x27; === &#x27;development&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa">   return &lt;&gt;This component is not shown in development&lt;/&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> const res = someExpensiveOperationThatLastsALongTime();</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> return &lt;&gt;{res}&lt;/&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token plain">}</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_pnkT" hidden=""><div class="language-diff codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-diff codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token plain">import React from &#x27;react&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export default function expensiveComp() {</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> if (&#x27;production&#x27; === &#x27;development&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49">   return &lt;&gt;This component is not shown in development&lt;/&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token deleted-sign deleted prefix deleted" style="color:#d73a49">-</span><span class="token deleted-sign deleted line" style="color:#d73a49"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token deleted-sign deleted line" style="color:#d73a49"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> const res = someExpensiveOperationThatLastsALongTime();</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token inserted-sign inserted prefix inserted" style="color:#36acaa">+</span><span class="token inserted-sign inserted line" style="color:#36acaa"> return &lt;&gt;{res}&lt;/&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token inserted-sign inserted line" style="color:#36acaa"></span><span class="token plain">}</span><br></span></code></pre></div></div></div></div></div></div></div></details>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id="understanding-ssr">Understanding SSR<a href="#understanding-ssr" class="hash-link" aria-label="Direct link to Understanding SSR" title="Direct link to Understanding SSR" translate="no">â€‹</a></h2>
<p>React is not just a dynamic UI runtimeâ€”it&#x27;s also a templating engine. Because Docusaurus sites mostly contain static contents, it should be able to work without any JavaScript (which React runs in), but only plain HTML/CSS. And that&#x27;s what server-side rendering offers: statically rendering your React code into HTML, without any dynamic content. An HTML file has no concept of client state (it&#x27;s purely markup), hence it shouldn&#x27;t rely on browser APIs.</p>
<p>These HTML files are the first to arrive at the user&#x27;s browser screen when a URL is visited (see <a href="/docs/advanced/routing">routing</a>). Afterwards, the browser fetches and runs other JS code to provide the &quot;dynamic&quot; parts of your siteâ€”anything implemented with JavaScript. However, before that, the main content of your page is already visible, allowing faster loading.</p>
<p>In CSR-only apps, all DOM elements are generated on client side with React, and the HTML file only ever contains one root element for React to mount DOM to; in SSR, React is already facing a fully built HTML page, and it only needs to correlate the DOM elements with the virtual DOM in its model. This step is called &quot;hydration&quot;. After React has hydrated the static markup, the app starts to work as any normal React app.</p>
<p>Note that Docusaurus is ultimately a single-page application, so static site generation is only an optimization (<em>progressive enhancement</em>, as it&#x27;s called), but our functionality does not fully depend on those HTML files. This is contrary to site generators like <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> and <a href="https://v1.docusaurus.io/" target="_blank" rel="noopener noreferrer">Docusaurus v1</a>, where all files are statically transformed to markup, and interactiveness is added through external JavaScript linked with <code>&lt;script&gt;</code> tags. If you inspect the build output, you will still see JS assets under <code>build/assets/js</code>, which are, really, the core of Docusaurus.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_SSbb" id="escape-hatches">Escape hatches<a href="#escape-hatches" class="hash-link" aria-label="Direct link to Escape hatches" title="Direct link to Escape hatches" translate="no">â€‹</a></h2>
<p>If you want to render any dynamic content on your screen that relies on the browser API to be functional at all, for example:</p>
<ul>
<li>Our <a href="/docs/markdown-features/code-blocks#interactive-code-editor">live codeblock</a>, which runs in the browser&#x27;s JS runtime</li>
<li>Our <a href="/docs/markdown-features/assets#themed-images">themed image</a> that detects the user&#x27;s color scheme to display different images</li>
<li>The JSON viewer of our debug panel which uses the <code>window</code> global for styling</li>
</ul>
<p>You may need to escape from SSR since static HTML can&#x27;t display anything useful without knowing the client state.</p>
<div class="theme-admonition theme-admonition-warning admonition_o5H7 alert alert--warning"><div class="admonitionHeading_FzoX"><span class="admonitionIcon_rXq6"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_Knsx"><p>It is important for the first client-side render to produce the exact same DOM structure as server-side rendering, otherwise, React will correlate virtual DOM with the wrong DOM elements.</p><p>Therefore, the naÃ¯ve attempt of <code>if (typeof window !== &#x27;undefined) {/* render something */}</code> won&#x27;t work appropriately as a browser vs. server detection, because the first client render would instantly render different markup from the server-generated one.</p><p>You can read more about this pitfall in <a href="https://www.joshwcomeau.com/react/the-perils-of-rehydration/" target="_blank" rel="noopener noreferrer">The Perils of Rehydration</a>.</p></div></div>
<p>We provide several more reliable ways to escape SSR.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id="browseronly"><code>&lt;BrowserOnly&gt;</code><a href="#browseronly" class="hash-link" aria-label="Direct link to browseronly" title="Direct link to browseronly" translate="no">â€‹</a></h3>
<p>If you need to render some component in browser only (for example, because the component relies on browser specifics to be functional at all), one common approach is to wrap your component with <a href="/docs/docusaurus-core#browseronly"><code>&lt;BrowserOnly&gt;</code></a> to make sure it&#x27;s invisible during SSR and only rendered in CSR.</p>
<div class="language-jsx codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-jsx codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">BrowserOnly</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;@docusaurus/BrowserOnly&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#8250DF">MyComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter" style="color:#953800">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#CF222E">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#116329">BrowserOnly</span><span class="token tag" style="color:#22863A"> </span><span class="token tag attr-name" style="color:#0550AE">fallback</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:#393A34">=</span><span class="token tag script language-javascript punctuation" style="color:#393A34">{</span><span class="token tag script language-javascript tag punctuation" style="color:#393A34">&lt;</span><span class="token tag script language-javascript tag" style="color:#22863A">div</span><span class="token tag script language-javascript tag punctuation" style="color:#393A34">&gt;</span><span class="token tag script language-javascript plain-text" style="color:#24292E">Loading...</span><span class="token tag script language-javascript tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag script language-javascript tag" style="color:#22863A">div</span><span class="token tag script language-javascript tag punctuation" style="color:#393A34">&gt;</span><span class="token tag script language-javascript punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#D73A49">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#CF222E">const</span><span class="token plain"> </span><span class="token maybe-class-name">LibComponent</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">          </span><span class="token function" style="color:#8250DF">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#C6105F">&#x27;some-lib-that-accesses-window&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">LibComponent</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#CF222E">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#116329">LibComponent</span><span class="token tag" style="color:#22863A"> </span><span class="token tag spread punctuation" style="color:#393A34">{</span><span class="token tag spread operator" style="color:#D73A49">...</span><span class="token tag spread" style="color:#22863A">props</span><span class="token tag spread punctuation" style="color:#393A34">}</span><span class="token tag" style="color:#22863A"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#116329">BrowserOnly</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>It&#x27;s important to realize that the children of <code>&lt;BrowserOnly&gt;</code> is not a JSX element, but a function that <em>returns</em> an element. This is a design decision. Consider this code:</p>
<div class="language-jsx codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-jsx codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">BrowserOnly</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;@docusaurus/BrowserOnly&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#8250DF">MyComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#CF222E">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#116329">BrowserOnly</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#6B6B6B;font-style:italic">/* DON&#x27;T DO THIS - doesn&#x27;t actually work */</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain-text"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain-text">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#22863A">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">page url = </span><span class="token punctuation" style="color:#393A34">{</span><span class="token dom variable" style="color:#E36209">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">href</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#22863A">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain-text">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag class-name" style="color:#116329">BrowserOnly</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>While you may expect that <code>BrowserOnly</code> hides away the children during server-side rendering, it actually can&#x27;t. When the React renderer tries to render this JSX tree, it does see the <code>{window.location.href}</code> variable as a node of this tree and tries to render it, although it&#x27;s actually not used! Using a function ensures that we only let the renderer see the browser-only component when it&#x27;s needed.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id="useisbrowser"><code>useIsBrowser</code><a href="#useisbrowser" class="hash-link" aria-label="Direct link to useisbrowser" title="Direct link to useisbrowser" translate="no">â€‹</a></h3>
<p>You can also use the <code>useIsBrowser()</code> hook to test if the component is currently in a browser environment. It returns <code>false</code> in SSR and <code>true</code> is CSR, after first client render. Use this hook if you only need to perform certain conditional operations on client-side, but not render an entirely different UI.</p>
<div class="language-jsx codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-jsx codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports">useIsBrowser</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;@docusaurus/useIsBrowser&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#8250DF">MyComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#CF222E">const</span><span class="token plain"> isBrowser </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">useIsBrowser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#CF222E">const</span><span class="token plain"> </span><span class="token dom variable" style="color:#E36209">location</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> isBrowser </span><span class="token operator" style="color:#D73A49">?</span><span class="token plain"> </span><span class="token dom variable" style="color:#E36209">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">href</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">:</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;fetching location...&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#CF222E">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#22863A">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token dom variable" style="color:#E36209">location</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#22863A">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id="useeffect"><code>useEffect</code><a href="#useeffect" class="hash-link" aria-label="Direct link to useeffect" title="Direct link to useeffect" translate="no">â€‹</a></h3>
<p>Lastly, you can put your logic in <code>useEffect()</code> to delay its execution until after first CSR. This is most appropriate if you are only performing side-effects but don&#x27;t <em>get</em> data from the client state.</p>
<div class="language-jsx codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-jsx codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#CF222E">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#8250DF">MyComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#8250DF">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#D73A49">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#6B6B6B;font-style:italic">// Only logged in the browser console; nothing is logged during server-side rendering</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name" style="color:#116329">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#8250DF">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#C6105F">&quot;I&#x27;m now in the browser&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#CF222E">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#22863A">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain-text">Some content...</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#22863A">span</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_SSbb" id="executionenvironment"><code>ExecutionEnvironment</code><a href="#executionenvironment" class="hash-link" aria-label="Direct link to executionenvironment" title="Direct link to executionenvironment" translate="no">â€‹</a></h3>
<p>The <a href="/docs/docusaurus-core#executionenvironment"><code>ExecutionEnvironment</code></a> namespace contains several values, and <code>canUseDOM</code> is an effective way to detect browser environment.</p>
<p>Beware that it essentially checked <code>typeof window !== &#x27;undefined&#x27;</code> under the hood, so you should not use it for rendering-related logic, but only imperative code, like reacting to user input by sending web requests, or dynamically importing libraries, where DOM isn&#x27;t updated at all.</p>
<div class="language-js codeBlockContainer_jDV4 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_U6Q0">a-client-module.js</div><div class="codeBlockContent_cKMj"><pre tabindex="0" class="prism-code language-js codeBlock_Gebt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_FJaf"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#CF222E">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ExecutionEnvironment</span><span class="token plain"> </span><span class="token keyword module" style="color:#CF222E">from</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;@docusaurus/ExecutionEnvironment&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#CF222E">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">ExecutionEnvironment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">canUseDOM</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token dom variable" style="color:#E36209">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">title</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&quot;I&#x27;m loaded!&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/main/website/docs/advanced/ssg.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_IMw_" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_OHCJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-10-14T02:54:05.000Z" itemprop="dateModified">Oct 14, 2025</time></b> by <b>forest</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/advanced/routing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Routing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/advanced/client"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Client architecture</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_RLlU thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#understanding-ssr" class="table-of-contents__link toc-highlight">Understanding SSR</a></li><li><a href="#escape-hatches" class="table-of-contents__link toc-highlight">Escape hatches</a><ul><li><a href="#browseronly" class="table-of-contents__link toc-highlight"><code>&lt;BrowserOnly&gt;</code></a></li><li><a href="#useisbrowser" class="table-of-contents__link toc-highlight"><code>useIsBrowser</code></a></li><li><a href="#useeffect" class="table-of-contents__link toc-highlight"><code>useEffect</code></a></li><li><a href="#executionenvironment" class="table-of-contents__link toc-highlight"><code>ExecutionEnvironment</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>