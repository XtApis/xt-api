---
id: SignatureStatement
title: Signature Statement
sidebar_label: Signature Statement
sidebar_position: 4
---

#### Signature Overview

> Note: `${?}` or `$?` indicates variable substitution.

To generate a `signature`, you must use the `SECRET KEY` obtained from your API Key to encrypt the `unencrypted_string`.

---

#### Signature Generation Logic

##### 1️⃣ If HTTP parameters are placed in the **QueryString**:

```
unencrypted_string = ${fixed_header}#${end_point}#${query_string}
```

If multiple key-value pairs exist in the QueryString, they must be **sorted in ascending ASCII order by key**, then concatenated:

```
keya=value&keyb=value&keyc=value
```

##### 2️⃣ If HTTP parameters are placed in the **RequestBody**:

```
unencrypted_string = ${fixed_header}#${end_point}#${request_body}
```

---

#### Parameter Definitions

| Parameter      | Description                                              |
| -------------- | -------------------------------------------------------- |
| `fixed_header` | The fixed header string composed of appkey and timestamp |
| `end_point`    | The request path (excluding domain)                      |
| `query_string` | The query parameters in the URL                          |
| `request_body` | The content of POST body                                 |

---

#### Structure

```
fixed_header = "validate-appkey=${your_appkey}&validate-timestamp=${current_timestamp}"
```

Each section is concatenated using a `#` symbol:

```
unencrypted_string = fixed_header#end_point#query_string
```

---

#### Example

```bash
curl -G "https://fapi.xt.com/future/user/v1/balance/detail" \
  -H "validate-appkey: $APPKEY" \
  -H "validate-timestamp: $TIMESTAMP" \
  -H "validate-signature: $SIGNATURE" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "coin=btc"
```

**Example values:**

```
current_timestamp = *****
your_appkey = ++++++
```

Then:

```
fixed_header="validate-appkey=++++++&validate-timestamp=*****"
end_point="/future/user/v1/balance/detail"
query_string="coin=btc"
```

Final `unencrypted_string`:

```
unencrypted_string="validate-appkey=++++++&validate-timestamp=*****#/future/user/v1/balance/detail#coin=btc"
```

---

#### Generating the Signature

Once you have the `unencrypted_string`, use `SECRET KEY` and HMAC-SHA256 to generate the signature:

```bash
SIGNATURE=$(echo -n "$unencrypted_string" | openssl dgst -sha256 -hmac "$SECRETKEY" | awk '{print $2}')
echo $SIGNATURE
```

Then include the signature in the request header as:

```
validate-signature: $SIGNATURE
```
