---
id: quant-order-history
title: "查看历史订单（量化）"
sidebar_label: "查看历史订单（量化）"
sidebar_position: 1.3
---

import CodeBlock from '@theme/CodeBlock';

**类型:** GET

**描述:** `/future/trade/v1/order/quant/list-history`

量化账号专用历史订单查询接口，支持游标分页，最大返回2000条记录。

### 参数

| 名称 | 类型 | 必填 | 默认值 | 描述 | 范围 |
| --- | --- | --- | --- | --- | --- |
| id | long | false | N/A | 游标ID，用于翻页，上一次返回的最后一个orderId |  |
| direction | string | false | NEXT | 翻页方向 | PREV;NEXT |
| limit | integer | false | 10 | 每页数量，最大2000 |  |
| symbol | string | false | N/A | 交易对 |  |
| forceClose | boolean | false | false | 是否强平订单 |  |
| startTime | long | false | N/A | 开始时间（毫秒时间戳），最早90天前 |  |
| endTime | long | false | N/A | 结束时间（毫秒时间戳） |  |
| origType | integer | false | N/A | 条件委托类型：1=限价止盈、2=限价止损、3=市价止盈、4=市价止损 |  |
| orderSide | integer | false | N/A | 下单方向：1=买、2=卖 |  |
| states | list\<integer\> | false | N/A | 订单状态：2=部分成交、3=全部成交、4=用户撤销、6=已过期 |  |
| orderOrigType | integer | false | N/A | 历史订单类型：1=限价委托、2=市价委托、3=限价止盈止损、4=市价止盈止损、5=MMR止损 |  |
| welfareAccount | boolean | false | false | 是否查询体验金账户 |  |

### 限流规则

200/s/apikey

### 请求示例

<CodeBlock language="bash" title="Request">
  {`curl -G "https://fapi.xt.com/future/trade/v1/order/quant/list-history" \\
  -H "validate-appkey: $APPKEY" \\  # 必须
  -H "validate-timestamp: $TIMESTAMP" \\  # 必须
  -H "validate-signature: $SIGNATURE" \\  # 必须
  -H "Content-Type: application/x-www-form-urlencoded" \\  # 必须
  -d "symbol=btc_usdt" \\
  -d "limit=10"
`}
</CodeBlock>

### 响应示例

<CodeBlock language="json" title="Response">
  {`{
  "returnCode": 0,
  "msgInfo": "",
  "error": {
    "code": "",
    "msg": ""
  },
  "result": {
    "hasPrev": false,
    "hasNext": true,
    "items": [
      {
        "orderId": 123456789,           // 订单 ID
        "clientOrderId": "",            // 客户订单 ID
        "symbol": "btc_usdt",           // 交易对
        "orderSide": "BUY",             // 订单方向
        "orderType": "LIMIT",           // 订单类型
        "positionSide": "LONG",         // 仓位方向
        "price": "50000.00",            // 订单价格
        "origQty": "0.1",               // 数量（张）
        "executedQty": "0.1",           // 成交量（张）
        "avgPrice": "50000.00",         // 成交均价
        "state": "FILLED",              // 订单状态: NEW; PARTIALLY_FILLED; FILLED; CANCELED; REJECTED; EXPIRED
        "closePosition": false,         // 订单条件触发时是否全部平仓
        "closeProfit": "100.00",        // 平仓盈亏
        "marginFrozen": "0",            // 占用保证金
        "forceClose": false,            // 是否为强平订单
        "sourceId": 0,                  // 触发条件 ID
        "timeInForce": "GTC",           // 有效类型
        "triggerProfitPrice": "0",      // 止盈触发价格
        "triggerStopPrice": "0",        // 止损触发价格
        "createdTime": 1703520000000,   // 创建时间
        "updatedTime": 1703520100000    // 更新时间
      }
    ]
  }
}`}
</CodeBlock>

### 游标分页使用说明

1. **首次请求**：不传 `id` 参数
2. **下一页**：使用上一次返回列表中最后一条记录的 ID 作为 `id` 参数，`direction=NEXT`
3. **上一页**：使用当前列表第一条记录的 ID 作为 `id` 参数，`direction=PREV`
4. **判断是否有更多数据**：通过 `hasNext` 和 `hasPrev` 字段判断

### 错误码

| 错误码 | 描述 |
| --- | --- |
| not_quantification_account | 非量化账号，无权访问此接口 |
